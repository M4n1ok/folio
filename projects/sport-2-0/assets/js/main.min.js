"use strict";function init(){initLanding(landing_id);var b=(initApp(app_id),document.getElementById("categories-container")),c=document.getElementById("categories-container-parent"),e=(window.innerHeight+c.getBoundingClientRect().top-document.body.getBoundingClientRect().top,b.getBoundingClientRect().top-document.body.getBoundingClientRect().top),f=document.getElementById("pos-end");window.addEventListener("scroll",function(a){var c=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,d=f.getBoundingClientRect().top-document.body.getBoundingClientRect().top;c>=e&&c<=d?b.classList.add("fixed"):b.classList.remove("fixed")})}function initApp(a){var b={props:{inViewportActive:{type:Boolean,default:!0},inViewportOnce:{type:Boolean,default:!1},inViewportOffset:{type:Number,default:0},inViewportOffsetTop:{type:Number,default:null},inViewportOffsetBottom:{type:Number,default:null}},data:function(){return{inViewport:{now:null,fully:null,above:null,below:null,listening:!1}}},computed:{inViewportOffsetTopComputed:function(){var a;return null!=(a=this.inViewportOffsetTop)?a:this.inViewportOffset},inViewportOffsetBottomComputed:function(){var a;return null!=(a=this.inViewportOffsetBottom)?a:this.inViewportOffset},inViewportOffsetComputed:function(){return{top:this.inViewportOffsetTopComputed,bottom:this.inViewportOffsetBottomComputed}}},mounted:function(){return this.inViewportInit()},destroyed:function(){return this.removeInViewportHandlers()},watch:{inViewportActive:function(a){return a?this.addInViewportHandlers():this.removeInViewportHandlers()},inViewportOffsetComputed:{deep:!0,handler:function(){return this.removeInViewportHandlers(),this.inViewportInit()}}},methods:{inViewportInit:function(){if(this.inViewportActive)return this.addInViewportHandlers()},addInViewportHandlers:function(){if(!this.inViewport.listening)return this.inViewport.listening=!0,this.scrollMonitor=scrollMonitor.create(this.$el,this.inViewportOffsetComputed),this.scrollMonitor.on("stateChange",this.updateInViewport),this.updateInViewport()},removeInViewportHandlers:function(){if(this.inViewport.listening)return this.inViewport.listening=!1,this.scrollMonitor&&this.scrollMonitor.destroy(),delete this.scrollMonitor},updateInViewport:function(){if(this.inViewport.now=this.scrollMonitor.isInViewport,this.inViewport.fully=this.scrollMonitor.isFullyInViewport,this.inViewport.above=this.scrollMonitor.isAboveViewport,this.inViewport.below=this.scrollMonitor.isBelowViewport,this.inViewportOnce&&this.inViewport.now)return this.removeInViewportHandlers()}}},c={props:{article:Object,index:Number},data:{categoryClass:""},mixins:[b],computed:{visible:function(){var a=this;return a.inViewport.now},imgTransition:function(){var a=this;return a.index%2===0?"transition-article-image-slide-right":"transition-article-image-slide-left"},enabledArticle:function(){var a=this,b=a.$parent;return 0===b.$data.activeCategories.length?{opacity:1}:b.$data.activeCategories.indexOf(a.article.category.index)>-1?{opacity:1}:{opacity:.25,filter:"blur(20px)"}},offset:function(){return-window.innerHeight+75},switchPosition:function(){var a=this;return a.index%2===0?"article-right":"article-left"},iconCategoryPath:function(){var a=this,b=!1;switch(a.article.category.name){case"Connected Sports Gear":a.categoryClass="connected";break;case"VR":a.categoryClass="vr";break;case"Interactive Experiences":a.categoryClass="interactive";break;case"E-Sport":a.categoryClass="esport";break;case"App":a.categoryClass="mobile"}return b=svg_sprite_path+a.categoryClass}},template:'<article :style="enabledArticle" class="timeline-article" :class="this.switchPosition"><transition name="transition-article-date"><div v-show="visible" class="article-date"><span class="date">{{ article.date.day }}<sup>th</sup></span></div></transition><div class="article-img-container"><transition :name="imgTransition"><img v-show="article.medias.image && visible" class="article-image" :src="this.article.medias.image" :alt="this.article.title"></transition></div><div class="article-content" ><transition name="transition-article-content"><main v-show="visible" ><header class="article-header" ><svg v-show="this.iconCategoryPath" class="icon article-category" :class="this.categoryClass"><use :xlink:href="this.iconCategoryPath"/></svg><h2 class="article-title" v-html="this.article.title"></h2></header><section class="article-body"><p class="article-desc" v-html="this.article.description"></p></section><footer><div class="article-links"><a :href="this.article.url" target="_blank" rel="nofollow" class="article-link">Read the article</a><a v-show="article.medias.video" :href="this.article.medias.video" class="article-link" target="_blank">See the video</a></div></footer></main></transition><aside class="articles-more"><transition v-if="visible"  name="transition-article-aside"><ul class="article-tags"><li class="article-tag" v-for="tag in article.hashtag">{{ tag }}</li></ul></transition></aside></div></article>'},d={props:{index:Number,category:Object,classSelected:""},mixins:[b],computed:{iconClasses:function(){var a=this;return"category-icon category-icon--"+a.category.icon},iconCategoryPath:function(){var a=this;return svg_sprite_path+a.category.icon},above:function(){var a=this;return a.$parent.$parent.$data.fixedCategories=!!a.inViewport.above,a.inViewport.above}},methods:{toggleCategory:function(){var a=this;if(a.$parent.$el.classList.contains("fixed")){var b=a.$parent.$parent,c=b.$data.activeCategories.indexOf(a.category.index);c===-1?(b.$data.activeCategories.push(a.category.index),a.classSelected="selected"):(b.$data.activeCategories.splice(c,1),a.classSelected="")}}},template:'<li @click="toggleCategory" class="category" :class="classSelected"><div :class="this.iconClasses"><svg class="icon" ><use :xlink:href="this.iconCategoryPath" /></svg></div><p class="category-name" v-html="this.category.name"></p></li><!---->'},e={props:{month:String},computed:{visibleComputed:function(){var a=this;return a.inViewport.now}},mixins:[b],template:'<transition name="transition-article-grow"><header v-show="visibleComputed" class="month-title"><h1>{{ month }}</h1></header></transition>'};return new Vue({el:a,data:{articles:TIMELINE,fixedCategories:!1,activeCategories:[],categories:{0:{index:0,name:"Connected Devices",icon:"connected"},1:{index:1,name:"Mobile<br/>Apps",icon:"mobile"},2:{index:2,name:"E-Sport",icon:"esport"},3:{index:3,name:"Virtual Reality",icon:"vr"},4:{index:4,name:"Interactive Experiences",icon:"interactive"}}},mixins:[b],computed:{fixedCategoriesClasses:function(){},visibleComputed:function(){var a=this;return a.inViewport.now}},components:{"article-component":c,"category-component":d,"month-component":e}})}function initLanding(a){var b=document.getElementById("landing-base-line"),c={duration:50,file:"assets/svg/landing.svg",type:"scenario",animTimingFunction:Vivus.EASE,reverseStack:!0};new Vivus(a,c,function(){b.classList.add("animate")})}var landing_id="svg-landing",app_id="#app",svg_sprite_path="assets/img/symbol.svg#";window.onload=init;