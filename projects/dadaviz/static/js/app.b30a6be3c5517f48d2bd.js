webpackJsonp([1,0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(30),i=r(a),o=n(29),u=r(o),s=n(6),l=r(s),c=n(25),d=r(c),f=n(5),h=r(f);l.default.use(h.default);var p=new h.default({mode:"history",routes:[{path:"/",component:i.default},{name:"details",path:"/details",component:u.default}]});new l.default({router:p,render:function(t){return t(d.default)}}).$mount("#app");e.default=p},,,function(t,e,n){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.default={root_path:"",currentRoute:"/",currentItems:[],data:{countries:{title:"OÙ AIMERAIS-TU TRAVAILLER ?",url:r.resolve(t,"../static/data/countries-cinema.csv"),frequencies:{title:"VAS - TU SOUVENT AU CINÉ ?",legend_graph:{axe_x:["jamais","-1","1","2","3","plus de 3"]}},legend:"Étude menée sur 37 étudiants DDI de l’année 2016 de façon tout à fait anonyme (mais on peut deviner certains trucs)",row:function(t){var e=[];return e.push(t.never,t.less_one_by_month,t.one_by_month,t.two_by_month,t.three_by_month,t.more_three_by_month),{title:t.country,frequencies:e,color:t.color,num:t.num}}}}}}).call(e,"/")},function(t,e,n){n(16);var r=n(1)(n(13),n(33),null,null);t.exports=r.exports},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(26),i=r(a);e.default={components:{headerComponent:i.default},name:"app"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=a(i),u=n(3),s=r(u);e.default={props:{data:Object},data:function(){return{width:650,height:460,svg:null,id:"barGraph-container",ratio:.2,marginBottom:30,marginTop:30,marginLeft:30,currentData:this.$route.params.name,ratioLosange:.4,bar:"",dataItem:null,x:null,y:null,state:s.default}},computed:{paddingLeft:function(){return Math.round(this.width*this.ratio)},barRange:function(){return Math.round(this.width-this.width*this.ratio*2)},heightWithMargin:function(){return this.height-this.marginTop-this.marginBottom},getCurrentData:function(){return this.currentData.charAt(0).toUpperCase()+this.currentData.slice(1)}},methods:{createSvg:function(){this.svg=o.select("#"+this.id).append("svg").attr("width",this.width).attr("height",this.height)},getDataItem:function(t,e){var n={},r=!0,a=!1,i=void 0;try{for(var o,u=t.parsed[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;if(s.title===s){n.title=s.title,n.values=s.frequencies,n.frequencies=t.frequencies.legend_graph.axe_x,n.max=t.frequencies.max,n.color=s.color;break}}}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n},createdBarGraph:function(t,e){var n=this;n.x=o.scaleBand().range([0,n.barRange]).padding(0),n.y=o.scaleLinear().range([n.heightWithMargin,0]);var r=t.append("g").attr("transform","translate("+n.paddingLeft+", "+n.marginTop+")");n.x.domain(e.frequencies.map(function(t){return t})),n.y.domain([0,e.max]),n.bar=r.selectAll(".bar").data(e.frequencies).enter().append("g").attr("class","bar bar-"+e.title),n.bar.append("line").attr("class","line-out").attr("x1",function(t){return n.x(t)}).attr("y1",function(t,e){return n.heightWithMargin}).attr("x2",function(t){return n.x(t)}).attr("y2",function(t,e){return n.heightWithMargin}).attr("stroke-width",1).attr("stroke","#000"),n.bar.append("line").attr("class","line-in").attr("x1",function(t){return n.x(t)+n.x.bandwidth()/2}).attr("y1",function(t,e){return n.heightWithMargin}).attr("x2",function(t){return n.x(t)+n.x.bandwidth()/2}).attr("y2",function(t,e){return n.heightWithMargin}).attr("stroke-width",1).attr("stroke","#000"),n.bar.append("line").attr("class","line-out").attr("x1",function(t){return n.x(t)+n.x.bandwidth()}).attr("y1",function(t,e){return n.heightWithMargin}).attr("x2",function(t){return n.x(t)+n.x.bandwidth()}).attr("y2",function(t,e){return n.heightWithMargin}).attr("stroke-width",1).attr("stroke","#000"),n.bar.append("rect").attr("width",n.x.bandwidth()).attr("height",n.x.bandwidth()).attr("transform",function(t,r){return"translate("+ +(n.x(t)+n.x.bandwidth()/2)+","+ +(n.y(e.values[r])-n.x.bandwidth()/4+2)+") rotate(45)"}).style("fill",function(t,r){return n.y(e.values[r])<n.heightWithMargin?e.color:"none"}).style("opacity",0),r.append("g").attr("transform","translate(0,"+n.heightWithMargin+")").call(o.axisBottom(n.x)),t.append("g").attr("transform","translate("+n.marginLeft+","+n.marginTop+")").call(o.axisLeft(n.y)),t.append("line").attr("x1",n.marginLeft).attr("y1",n.height-n.marginBottom).attr("x2",n.width).attr("y2",n.height-n.marginBottom).attr("stroke-width",1).attr("stroke","#000")},closeBar:function(t,e){var n=this;o.selectAll(".bar-"+t+" line").transition().duration(200).ease(o.easeCubic).attr("y2",function(t,e){return n.heightWithMargin});o.selectAll(".bar-"+t+" rect").transition().duration(250).ease(o.easeLinear).attr("transform",function(t,r){return"translate("+ +(n.x(t)+n.x.bandwidth()/2)+","+ +(n.y(e.values[r])-n.x.bandwidth()/4+2)+") rotate(45)"}).style("opacity",0)},openBar:function(t,e){var n=this;o.selectAll(".bar-"+t).each(function(t,r,a){o.select(this).selectAll(".line-out").transition().duration(350).ease(o.easeCubic).attr("y2",function(t,a){return n.y(e.values[r])<n.heightWithMargin?n.y(e.values[r])+n.x.bandwidth()*n.ratioLosange/4:n.heightWithMargin})}),o.selectAll(".bar-"+t).each(function(t,r,a){o.select(this).selectAll(".line-in").transition().duration(350).ease(o.easeCubic).attr("y2",function(t,a){return n.y(e.values[r])<n.heightWithMargin?n.y(e.values[r])+n.x.bandwidth()*n.ratioLosange/(1+n.ratioLosange):n.heightWithMargin})}),o.selectAll(".bar-"+t+" rect").transition().delay(100).duration(250).ease(o.easeElastic).attr("transform",function(t,r){return"translate("+ +(n.x(t)+n.x.bandwidth()/2)+","+ +(n.y(e.values[r])-n.x.bandwidth()/4+2)+") scale(0.75, "+n.ratioLosange+")  rotate(45)"}).duration(250).ease(o.easeLinear).style("opacity",1)}},mounted:function(){var t=this;this.width=Math.round(+window.getComputedStyle(this.$el).width.split("px")[0]),this.height=Math.round(+window.getComputedStyle(this.$el).height.split("px")[0]),this.createSvg();var e=!0,n=!1,r=void 0;try{for(var a,i=function(){var e=a.value,n={};n.title=e.title,n.values=e.frequencies,n.frequencies=t.data.frequencies.legend_graph.axe_x,n.max=t.data.frequencies.max,n.color=e.color,t.createdBarGraph(t.svg,n),s.default.currentItems.find(function(t){return t===e.title})&&t.openBar(e.title,n)},o=this.data.parsed[Symbol.iterator]();!(e=(a=o.next()).done);e=!0)i()}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}var u=!0,l=!1,c=void 0;try{for(var d,f=s.default.currentItems[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){d.value}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}},watch:{"state.currentItems":function(){var t=this,e=!0,n=!1,r=void 0;try{for(var a,i=function(){var e=a.value,n={};n.title=e.title,n.values=e.frequencies,n.frequencies=t.data.frequencies.legend_graph.axe_x,n.max=t.data.frequencies.max,n.color=e.color,s.default.currentItems.find(function(t){return t===e.title})?t.openBar(e.title,n):t.closeBar(e.title,n)},o=this.data.parsed[Symbol.iterator]();!(e=(a=o.next()).done);e=!0)i()}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=r(a);e.default={props:{data:Object},data:function(){return{width:650,height:460,svg:null,rectWidth:5,rectHeight:5,percentOffset:25,id:"pixelGraph-container"}},methods:{test:function(){},createSvg:function(){this.svg=i.select("#"+this.id).append("svg").attr("width",this.width).attr("height",this.height)},createPixelsGraph:function(t,e){var n=this,r=this,a=this.getGridCells(r.width,r.height,r.rectWidth,r.rectHeight,r.percentOffset),o=e.min,u=e.max,s=e.parsed,l=i.scaleLinear().domain([o,u]).range([0,1-r.percentOffset/100]),c=[],d=!0,f=!1,h=void 0;try{for(var p,m=s[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){for(var v=p.value,g=[],y=Math.round(l(v.num)*a),x=function(t){var e=void 0,a=!1,i=void 0;do{a=!1,e=n.randomPosition(r.width,r.height,r.rectWidth,r.rectHeight);var o=!0,u=!1,s=void 0;try{for(var l,d=c[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var f=l.value;if(i=f.find(function(t){return e.x>=t.x-r.rectWidth&&e.x<=t.x+r.rectWidth&&e.y>=t.y-r.rectHeight&&e.y<=t.y+r.rectHeight})){a=!0;break}}}catch(t){u=!0,s=t}finally{try{!o&&d.return&&d.return()}finally{if(u)throw s}}}while(a);g.push(e)},_=0;_<y;_++)x(_);c.push(g)}}catch(t){f=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(f)throw h}}var b=(t.selectAll(".pixels-container").data(s).enter().append("g").attr("id",function(t){return t.title}).attr("class","pixels-container").each(function(t,e){var n=e,o=t.title,u=t.color;i.select(this).selectAll(".pixel").data(function(t){return new Array(Math.round(l(t.num)*a))}).enter().append("rect").attr("class","pixel pixel-"+o).attr("transform",function(t,e){return"translate("+parseInt(c[n][e].x)+" "+parseInt(c[n][e].y)+")scale(0)"}).attr("width",r.rectWidth).attr("height",r.rectHeight).style("fill","none").style("opacity",0).on("mouseenter",function(){i.selectAll(".pixel").transition().duration(100).style("opacity",.4),i.selectAll(".pixel-"+o).transition().style("opacity",1).attr("transform",function(t,e){return"translate("+parseInt(c[n][e].x-r.rectWidth)+" "+parseInt(c[n][e].y-r.rectHeight)+")scale(2)"})}).on("mouseleave",function(){i.selectAll(".pixel").transition().duration(150).style("opacity",1),i.selectAll(".pixel-"+o).transition().attr("transform",function(t,e){return"translate("+parseInt(c[n][e].x-r.rectWidth/2)+" "+parseInt(c[n][e].y-r.rectHeight/2)+")scale(1)"})}).transition(b).style("opacity",1).style("fill",u).attr("transform",function(t,e){return"translate("+parseInt(c[n][e].x-r.rectWidth/2)+" "+parseInt(c[n][e].y-r.rectHeight/2)+")scale(1)"})}),i.transition().delay(250).duration(250).ease(i.easeLinear))},getGridCells:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=Math.round(t/n)+Math.round(e/r);return i-Math.round(i/a)},randomPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={};return a.x=Math.round(Math.random()*(t-n)),a.y=Math.round(Math.random()*(e-r)),a}},mounted:function(){this.width=Math.round(+window.getComputedStyle(this.$el).width.split("px")[0]),this.height=Math.round(+window.getComputedStyle(this.$el).height.split("px")[0]),this.createSvg(),this.createPixelsGraph(this.svg,this.data),this.$on("hover-country",function(){})}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(27),o=a(i),u=n(4),s=a(u),l=n(2),c=r(l),d=n(3),f=a(d);e.default={data:function(){return{data:null,name:"countries"}},components:{BarComponent:o.default,SidebarComponent:s.default},methods:{getData:function(){var t=this;c.csv(f.default.root_path+f.default.data[this.name].url).row(f.default.data[this.name].row).get(function(e){f.default.data[t.name].parsed=e,f.default.data[t.name].min=0;var n=0,r=0,a=!0,i=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var l=u.value;n+=+l.num;var c=!0,d=!1,h=void 0;try{for(var p,m=l.frequencies[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var v=p.value;r=v>r?v:r}}catch(t){d=!0,h=t}finally{try{!c&&m.return&&m.return()}finally{if(d)throw h}}}}catch(t){i=!0,o=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}f.default.data[t.name].max=n,f.default.data[t.name].frequencies.max=r,t.data=f.default.data[t.name]})}},created:function(){this.getData()}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),o=a(i),u=n(4),s=a(u),l=n(2),c=r(l),d=n(3),f=a(d);e.default={data:function(){return{data:null,name:"countries"}},components:{GraphComponent:o.default,SidebarComponent:s.default},methods:{getData:function(){var t=this;c.csv(f.default.root_path+f.default.data[this.name].url).row(f.default.data[this.name].row).get(function(e){f.default.data[t.name].parsed=e,f.default.data[t.name].min=0;var n=0,r=0,a=!0,i=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var l=u.value;n+=+l.num;var c=!0,d=!1,h=void 0;try{for(var p,m=l.frequencies[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var v=p.value;r=v>r?v:r}}catch(t){d=!0,h=t}finally{try{!c&&m.return&&m.return()}finally{if(d)throw h}}}}catch(t){i=!0,o=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}f.default.data[t.name].max=n,f.default.data[t.name].frequencies.max=r,t.data=f.default.data[t.name]})}},created:function(){this.getData()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),i=r(a);e.default={props:{data:Object},data:function(){return{min:this.data.min,max:this.data.max}},components:{PixelSidebarItem:i.default}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=a(i),u=n(3),s=r(u);e.default={props:{min:0,max:0,item:Object},methods:{hover:function(){this.$emit("hover-country")},updateCurrentItems:function(){var t=this;s.default.currentItems.find(function(e){return e===t.item.title})?s.default.currentItems.splice(s.default.currentItems.indexOf(this.item.title),1):s.default.currentItems.push(this.item.title),this.$router.push({name:"details"})}},computed:{itemColor:function(){return{backgroundColor:this.item.color}},percentValue:function(){var t=this,e=o.scaleLinear().domain([t.min,t.max]).range([0,1]);return o.format(".0%")(e(t.item.num))},opacityItem:function(){var t=this;return"details"==this.$route.name?s.default.currentItems.find(function(e){return e===t.item.title})?"":"opacity":""}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){n(15);var r=n(1)(n(7),n(32),null,null);t.exports=r.exports},function(t,e,n){n(18);var r=n(1)(n(8),n(35),null,null);t.exports=r.exports},function(t,e,n){n(20);var r=n(1)(n(9),n(37),null,null);t.exports=r.exports},function(t,e,n){n(21);var r=n(1)(n(10),n(38),null,null);t.exports=r.exports},function(t,e,n){n(22);var r=n(1)(n(11),n(39),null,null);t.exports=r.exports},function(t,e,n){n(19);var r=n(1)(n(12),n(36),null,null);t.exports=r.exports},function(t,e,n){n(17);var r=n(1)(n(14),n(34),null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"global-container",attrs:{id:"app"}},[n("headerComponent"),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"sidebar-container graph-legend-container"},["details"!=this.$route.name?n("h2",{staticClass:"legend-title"},[t._v(t._s(t.data.title))]):n("h2",{staticClass:"legend-title"},[t._v(t._s(t.data.frequencies.title))]),t._v(" "),n("transition-group",{staticClass:"graph-legend-items",attrs:{name:"slide-top",tag:"ul"}},t._l(t.data.parsed,function(e){return n("PixelSidebarItem",{key:e,attrs:{item:e,min:t.min,max:t.max}})}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"graph-legend-item",class:t.opacityItem,attrs:{id:t.item.title+"_link-item"},on:{mouseover:t.hover}},[n("span",{staticClass:"item-legend-color",style:t.itemColor}),t._v(" "),n("a",{on:{"!click":function(e){t.updateCurrentItems(e)}}},[t._v(t._s(t.item.title))]),t._v(" "),"details"!=this.$route.name?n("span",{staticClass:"item-percent"},[t._v(t._s(t.percentValue))]):n("span",{staticClass:"item-percent"},[t._v(t._s(t.item.num))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("img",{attrs:{src:"static/header.svg",alt:""}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[t.data?n("GraphComponent",{attrs:{data:t.data}}):t._e(),t._v(" "),t.data?n("SidebarComponent",{attrs:{data:t.data}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main-container graph-container"},[n("div",{attrs:{id:t.id}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main-container graph-container"},[n("div",{attrs:{id:t.id}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[t.data?n("BarComponent",{attrs:{data:t.data}}):t._e(),t._v(" "),t.data?n("SidebarComponent",{attrs:{data:t.data}}):t._e()],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.b30a6be3c5517f48d2bd.js.map